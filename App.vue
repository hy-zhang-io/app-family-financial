<script>
	export default {
		onLaunch: function() {
			console.log('æµä½“é‡‘è App Launch')
			// åˆå§‹åŒ–åº”ç”¨é…ç½®
			this.initApp()
		},
		onShow: function() {
			console.log('App Show')
		},
		onHide: function() {
			console.log('App Hide')
		},
		methods: {
			initApp() {
				// åˆå§‹åŒ–æœ¬åœ°å­˜å‚¨
				if (!uni.getStorageSync('transactions')) {
					uni.setStorageSync('transactions', [])
				}
				if (!uni.getStorageSync('categories')) {
					uni.setStorageSync('categories', [
						{ id: 1, name: 'é¤é¥®', icon: 'ğŸœ', color: '#ff6b6b' },
						{ id: 2, name: 'äº¤é€š', icon: 'ğŸš—', color: '#4ecdc4' },
						{ id: 3, name: 'è´­ç‰©', icon: 'ğŸ›’', color: '#ffe66d' },
						{ id: 4, name: 'å¨±ä¹', icon: 'ğŸ®', color: '#95e1d3' },
						{ id: 5, name: 'åŒ»ç–—', icon: 'ğŸ’Š', color: '#ff8b94' },
						{ id: 6, name: 'æ•™è‚²', icon: 'ğŸ“š', color: '#a8e6cf' },
						{ id: 7, name: 'å±…ä½', icon: 'ğŸ ', color: '#ffd3b6' },
						{ id: 8, name: 'å…¶ä»–', icon: 'ğŸ“¦', color: '#c7ceea' }
					])
				}
				if (!uni.getStorageSync('budgets')) {
					uni.setStorageSync('budgets', {})
				}
				if (!uni.getStorageSync('familyMembers')) {
					uni.setStorageSync('familyMembers', [
						{ id: 1, name: 'æˆ‘', avatar: '', role: 'admin' }
					])
				}
				if (!uni.getStorageSync('assets')) {
					uni.setStorageSync('assets', {
						total: 0,
						accounts: []
					})
				}
				if (!uni.getStorageSync('settings')) {
					uni.setStorageSync('settings', {
						accessibilityMode: false,
						highContrastMode: false,
						animationEnabled: true,
						voiceInputEnabled: true
					})
				}
			}
		}
	}
</script>

<style lang="scss">
	/* å…¨å±€æ ·å¼ */
	@import '@/uni.scss';

	page {
		background-color: #0a0e27;
		color: #ffffff;
		font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
	}

	/* å…¨æ¯ç»ç’ƒæ‹Ÿæ€æ•ˆæœ */
	.glass-effect {
		background: rgba(255, 255, 255, 0.1);
		backdrop-filter: blur(10px);
		-webkit-backdrop-filter: blur(10px);
		border: 1px solid rgba(255, 255, 255, 0.2);
		border-radius: 20rpx;
	}

	/* é«˜å¯¹æ¯”åº¦æ¨¡å¼ */
	.high-contrast {
		filter: contrast(1.2);
	}

	/* é“¶å‘å…³æ€€æ¨¡å¼ */
	.silver-mode {
		font-size: 40rpx;
		line-height: 1.8;
	}

	.silver-mode .glass-effect {
		background: rgba(255, 255, 255, 0.95);
		backdrop-filter: none;
		border: 2px solid #000;
	}

	/* å‘å…‰æ•ˆæœ */
	.glow {
		text-shadow: 0 0 10px rgba(79, 214, 200, 0.5);
	}

	.glow-card {
		box-shadow: 0 0 20px rgba(79, 214, 200, 0.3);
	}

	/* é€šç”¨æŒ‰é’®æ ·å¼ */
	.btn-fluid {
		background: linear-gradient(135deg, #4fd6c8 0%, #2d9c94 100%);
		border-radius: 50rpx;
		color: #fff;
		padding: 20rpx 40rpx;
		border: none;
		box-shadow: 0 4rpx 15rpx rgba(79, 214, 200, 0.3);
		transition: all 0.3s ease;
	}

	.btn-fluid:active {
		transform: scale(0.95);
		box-shadow: 0 2rpx 10rpx rgba(79, 214, 200, 0.5);
	}

	/* é€šç”¨å¡ç‰‡æ ·å¼ */
	.card-fluid {
		background: rgba(255, 255, 255, 0.08);
		backdrop-filter: blur(10px);
		border-radius: 20rpx;
		padding: 30rpx;
		margin-bottom: 20rpx;
		border: 1px solid rgba(255, 255, 255, 0.1);
	}

	/* æ–‡æœ¬é¢œè‰²å·¥å…·ç±» */
	.text-primary {
		color: #4fd6c8;
	}

	.text-warning {
		color: #ffb347;
	}

	.text-danger {
		color: #ff6b6b;
	}

	.text-success {
		color: #4ecdc4;
	}

	.text-secondary {
		color: #8b9dc3;
	}

	/* é—´è·å·¥å…·ç±» */
	.mt-10 { margin-top: 10rpx; }
	.mt-20 { margin-top: 20rpx; }
	.mt-30 { margin-top: 30rpx; }
	.mb-10 { margin-bottom: 10rpx; }
	.mb-20 { margin-bottom: 20rpx; }
	.mb-30 { margin-bottom: 30rpx; }
	.ml-10 { margin-left: 10rpx; }
	.mr-10 { margin-right: 10rpx; }
	.p-20 { padding: 20rpx; }
	.p-30 { padding: 30rpx; }
</style>
